{"version":3,"sources":["components/ImageGallery/ImageGallery.module.css","components/Modal/Modal.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.module.css","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Modal/Modal.js","components/Button/Button.js","services/image-api.js","components/Spinner/Spinner.js","components/App.js","index.js"],"names":["module","exports","Searchbar","onSubmit","useState","query","setQuery","reset","className","s","SearchForm","event","preventDefault","trim","toast","error","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","name","autoFocus","placeholder","value","onChange","currentTarget","toLowerCase","ImageGalleryItem","webformatURL","largeImageURL","onClick","src","alt","ImageGalleryItemImage","prototype","PropTypes","string","isRequired","func","ImageGallery","data","handleLargeImage","map","id","arrayOf","shape","number","modalRoot","document","querySelector","Modal","onClose","largeImg","useEffect","window","addEventListener","handleKeyDown","removeEventListener","code","createPortal","Overlay","target","Button","handleLoadMore","button","api","fetchImage","nextQuery","nextPage","fetch","then","response","ok","json","Spinner","color","height","width","timeout","style","textAlign","App","page","setPage","setData","setError","showModal","setShowModal","setLargeImg","status","setStatus","imageAPI","hits","catch","finally","resetPage","SearchbarTitle","length","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"wIACAA,EAAOC,QAAU,CAAC,aAAe,mCAAmC,iBAAmB,uC,qBCAvFD,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,qB,qBCA3DD,EAAOC,QAAU,CAAC,sBAAwB,gD,qBCA1CD,EAAOC,QAAU,CAAC,OAAS,uB,yCCA3BD,EAAOC,QAAU,CAAC,UAAY,6BAA6B,eAAiB,kCAAkC,WAAa,8BAA8B,iBAAmB,oCAAoC,sBAAwB,yCAAyC,gBAAkB,mC,gJCmDpRC,MA/Cf,YAAkC,IAAbC,EAAY,EAAZA,SACnB,EAA0BC,mBAAS,IAAnC,mBAAOC,EAAP,KAAcC,EAAd,KAgBMC,EAAQ,WACZD,EAAS,GACV,EAED,OACE,wBAAQE,UAAWC,IAAEP,UAArB,SACE,uBAAMM,UAAWC,IAAEC,WAAYP,SAfd,SAACQ,GAEpB,GADAA,EAAMC,iBACe,KAAjBP,EAAMQ,OACR,OAAOC,IAAMC,MAAM,oFAErBZ,EAASE,GACTE,GACD,EAQG,UACE,wBAAQS,KAAK,SAASR,UAAWC,IAAEQ,iBAAnC,SACE,sBAAMT,UAAWC,IAAES,sBAAnB,sBAGF,uBACEV,UAAWC,IAAEU,gBACbH,KAAK,OACLI,aAAa,MACbC,KAAK,QACLC,WAAS,EACTC,YAAY,2BACZC,MAAOnB,EACPoB,SAjCa,SAACd,GACpB,IAAQa,EAAUb,EAAMe,cAAhBF,MACRlB,EAASkB,EAAMG,cAChB,QAmCF,E,kDC3CKC,EAAmB,SAAC,GAA8C,IAA5CC,EAA2C,EAA3CA,aAAcC,EAA6B,EAA7BA,cAAeC,EAAc,EAAdA,QACvD,OACE,qBACEC,IAAKH,EACLI,IAAKH,EACLtB,UAAWC,IAAEyB,sBACbH,QAASA,GAGd,EAEDH,EAAiBO,UAAY,CAC3BN,aAAcO,IAAUC,OAAOC,WAC/BR,cAAeM,IAAUC,OAAOC,WAChCP,QAASK,IAAUG,KAAKD,YAGXV,QChBTY,EAAe,SAAC,GAAgC,IAA9BC,EAA6B,EAA7BA,KAAMC,EAAuB,EAAvBA,iBAC5B,OACE,oBAAIlC,UAAWC,IAAE+B,aAAjB,SACGC,EAAKE,KAAI,gBAAGC,EAAH,EAAGA,GAAIf,EAAP,EAAOA,aAAcC,EAArB,EAAqBA,cAArB,OACR,oBAAatB,UAAWC,IAAEmB,iBAA1B,SACE,cAAC,EAAD,CACEC,aAAcA,EACdC,cAAeA,EACfC,QAASW,KAJJE,EADD,KAWf,EAEDJ,EAAaL,UAAY,CACvBM,KAAML,IAAUS,QACdT,IAAUU,MAAM,CACdF,GAAIR,IAAUW,OAAOT,WACrBT,aAAcO,IAAUC,OAAOC,WAC/BR,cAAeM,IAAUC,OAAOC,aAC/BA,YAELI,iBAAkBN,IAAUG,KAAKD,YAGpBE,Q,iBC1BTQ,EAAYC,SAASC,cAAc,eAyC1BC,MAvCf,YAAuC,IAAtBC,EAAqB,EAArBA,QAASC,EAAY,EAAZA,SACxBC,qBAAU,WAER,OADAC,OAAOC,iBAAiB,UAAWC,GAC5B,WACLF,OAAOG,oBAAoB,UAAWD,EACvC,CACF,IAED,IAAMA,EAAgB,SAAC9C,GACF,WAAfA,EAAMgD,MACRP,GAEH,EAYD,OAAOQ,uBACL,qBAAKpD,UAAWC,IAAEoD,QAAS9B,QAXD,SAACpB,GACvBA,EAAMe,gBAAkBf,EAAMmD,QAChCV,GAEH,EAOC,SACE,qBAAK5C,UAAWC,IAAE0C,MAAOpB,QANF,WACzBqB,GACD,EAIG,SACE,qBAAKpB,IAAKqB,EAAUpB,IAAI,SAG5Be,EAEH,E,iBCpCKe,EAAS,SAAC,GAAwB,IAAtBC,EAAqB,EAArBA,eAChB,OACE,wBAAQhD,KAAK,SAASR,UAAWC,IAAEwD,OAAQlC,QAASiC,EAApD,sBAIH,EAEDD,EAAO5B,UAAY,CACjB6B,eAAgB5B,IAAUG,KAAKD,YAGlByB,QCGAG,EAFH,CAAEC,WAbK,SAACC,EAAWC,GAC7B,OAAOC,MAAM,GAAD,OAHA,0BAGA,eACQF,EADR,iBAC0BC,EAD1B,gBAJE,qCAIF,yDAEVE,MAAK,SAACC,GACN,GAAIA,EAASC,GACX,OAAOD,EAASE,MAKnB,GACF,G,yBCGcC,EAbC,WACd,OACE,cAAC,IAAD,CACE3D,KAAK,WACL4D,MAAM,UACNC,OAAQ,GACRC,MAAO,GACPC,QAAS,IACTC,MAAO,CAAEC,UAAW,WAGzB,ECyFcC,MA7Ff,WACE,MAAwB9E,mBAAS,GAAjC,mBAAO+E,EAAP,KAAaC,EAAb,KACA,EAAwBhF,mBAAS,IAAjC,mBAAOqC,EAAP,KAAa4C,EAAb,KACA,EAA0BjF,mBAAS,IAAnC,mBAAOC,EAAP,KAAcC,EAAd,KAEA,EAA0BF,mBAAS,MAAnC,mBAAckF,GAAd,WACA,EAAkClF,oBAAS,GAA3C,mBAAOmF,EAAP,KAAkBC,EAAlB,KACA,EAAgCpF,mBAAS,IAAzC,mBAAOiD,EAAP,KAAiBoC,EAAjB,KACA,EAA4BrF,mBAAS,QAArC,mBAAOsF,EAAP,KAAeC,EAAf,KAEArC,qBAAU,WACM,KAAVjD,IAGJsF,EAAU,WACVC,EACGzB,WAAW9D,EAAO8E,GAClBZ,MAAK,YAAe,IAAZsB,EAAW,EAAXA,KACPR,EAAQ,GAAD,mBACF5C,GADE,YAEFoD,EAAKlD,KAAI,kBAA0C,CACpDC,GADU,EAAGA,GAEbf,aAFU,EAAOA,aAGjBC,cAHU,EAAqBA,cAArB,MAMf,IACAgE,OAAM,SAAC/E,GAAD,OAAWuE,EAASvE,EAApB,IACNgF,SAAQ,kBAAMJ,EAAU,WAAhB,IAEZ,GAAE,CAACtF,EAAO8E,IAOX,IAKMa,EAAY,WAChBZ,EAAQ,GACRC,EAAQ,IACRG,GAAa,GACbG,EAAU,OACX,EAeD,OACE,sBAAKnF,UAAU,MAAf,UACE,cAAC,EAAD,CAAWL,SA3BM,SAACE,GACpB2F,IACA1F,EAASD,EACV,IA0Be,SAAXqF,GACC,oBAAIlF,UAAWC,IAAEwF,eAAjB,6FAGDxD,EAAKyD,OAAS,GACb,cAAC,EAAD,CAAczD,KAAMA,EAAMC,iBAlBP,SAAC/B,GACxB6E,GAAa,GACbC,EAAY9E,EAAMe,cAAcO,IACjC,IAkBIQ,EAAKyD,QAAU,IAAiB,aAAXR,GACpB,cAAC,EAAD,CAAQ1B,eA1BS,WACrBoB,GAAQ,SAACD,GAAD,OAAUA,EAAO,CAAjB,GACT,IA2BoB,IAAhB1C,EAAKyD,QAA2B,aAAXR,GACpB,qBAAIlF,UAAWC,IAAEwF,eAAjB,sEACe5F,EADf,oGAKDkF,GAAa,cAAC,EAAD,CAAOlC,SAAUA,EAAUD,QA1BzB,WAClBoC,GAAcD,EACf,IA0Be,YAAXG,GAAwB,cAAC,EAAD,IAEzB,cAAC,IAAD,CAAgBS,UAAW,QAGhC,EChGDC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFrD,SAASsD,eAAe,Q","file":"static/js/main.3676f2d3.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__DncjJ\",\"ImageGalleryItem\":\"ImageGallery_ImageGalleryItem__30xkQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2AxMb\",\"Modal\":\"Modal_Modal__2WBTT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2bkPr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__3QF_k\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__DjWH3\",\"SearchbarTitle\":\"Searchbar_SearchbarTitle__3H8jq\",\"SearchForm\":\"Searchbar_SearchForm__1ac2l\",\"SearchFormButton\":\"Searchbar_SearchFormButton__21S85\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__8f9cn\",\"SearchFormInput\":\"Searchbar_SearchFormInput__VhsfU\"};","import { useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { toast } from \"react-toastify\";\nimport s from \"./Searchbar.module.css\";\n\nfunction Searchbar({ onSubmit }) {\n  const [query, setQuery] = useState(\"\");\n\n  const handleChange = (event) => {\n    const { value } = event.currentTarget;\n    setQuery(value.toLowerCase());\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    if (query.trim() === \"\") {\n      return toast.error(\"Введите запрос!\");\n    }\n    onSubmit(query);\n    reset();\n  };\n\n  const reset = () => {\n    setQuery(\"\");\n  };\n\n  return (\n    <header className={s.Searchbar}>\n      <form className={s.SearchForm} onSubmit={handleSubmit}>\n        <button type=\"submit\" className={s.SearchFormButton}>\n          <span className={s.SearchFormButtonLabel}>Search</span>\n        </button>\n\n        <input\n          className={s.SearchFormInput}\n          type=\"text\"\n          autoComplete=\"off\"\n          name=\"query\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          value={query}\n          onChange={handleChange}\n        />\n      </form>\n    </header>\n  );\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport default Searchbar;\n","import PropTypes from \"prop-types\";\nimport s from \"./ImageGalleryItem.module.css\";\n\nconst ImageGalleryItem = ({ webformatURL, largeImageURL, onClick }) => {\n  return (\n    <img\n      src={webformatURL}\n      alt={largeImageURL}\n      className={s.ImageGalleryItemImage}\n      onClick={onClick}\n    />\n  );\n};\n\nImageGalleryItem.prototype = {\n  webformatURL: PropTypes.string.isRequired,\n  largeImageURL: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import PropTypes from \"prop-types\";\nimport s from \"./ImageGallery.module.css\";\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\n\nconst ImageGallery = ({ data, handleLargeImage }) => {\n  return (\n    <ul className={s.ImageGallery}>\n      {data.map(({ id, webformatURL, largeImageURL }) => (\n        <li key={id} className={s.ImageGalleryItem}>\n          <ImageGalleryItem\n            webformatURL={webformatURL}\n            largeImageURL={largeImageURL}\n            onClick={handleLargeImage}\n          />\n        </li>\n      ))}\n    </ul>\n  );\n};\n\nImageGallery.prototype = {\n  data: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      webformatURL: PropTypes.string.isRequired,\n      largeImageURL: PropTypes.string.isRequired,\n    }).isRequired\n  ),\n  handleLargeImage: PropTypes.func.isRequired,\n};\n\nexport default ImageGallery;\n","import { useEffect } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport PropTypes from \"prop-types\";\nimport s from \"./Modal.module.css\";\n\nconst modalRoot = document.querySelector(\"#modal-root\");\n\nfunction Modal({ onClose, largeImg }) {\n  useEffect(() => {\n    window.addEventListener(\"keydown\", handleKeyDown);\n    return () => {\n      window.removeEventListener(\"keydown\", handleKeyDown);\n    };\n  });\n\n  const handleKeyDown = (event) => {\n    if (event.code === \"Escape\") {\n      onClose();\n    }\n  };\n\n  const handleBackdropClick = (event) => {\n    if (event.currentTarget === event.target) {\n      onClose();\n    }\n  };\n\n  const handleOverlayClick = () => {\n    onClose();\n  };\n\n  return createPortal(\n    <div className={s.Overlay} onClick={handleBackdropClick}>\n      <div className={s.Modal} onClick={handleOverlayClick}>\n        <img src={largeImg} alt=\"\" />\n      </div>\n    </div>,\n    modalRoot\n  );\n}\n\nModal.propTypes = {\n  largeImg: PropTypes.string.isRequired,\n  onClose: PropTypes.func.isRequired,\n};\n\nexport default Modal;\n","import PropTypes from \"prop-types\";\nimport s from \"./Button.module.css\";\n\nconst Button = ({ handleLoadMore }) => {\n  return (\n    <button type=\"button\" className={s.button} onClick={handleLoadMore}>\n      Load more\n    </button>\n  );\n};\n\nButton.prototype = {\n  handleLoadMore: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","const API_KEY = \"23088812-5b110276eac3708e5449cfd31\";\nconst BASE_URL = `https://pixabay.com/api`;\n\nconst fetchImage = (nextQuery, nextPage) => {\n  return fetch(\n    `${BASE_URL}/?q=${nextQuery}&page=${nextPage}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`\n  ).then((response) => {\n    if (response.ok) {\n      return response.json();\n    }\n    // return Promise.reject(\n    //   new Error(`По запросу \"${nextQuery}\" ничего не найдено`)\n    // );\n  });\n};\n\nconst api = { fetchImage };\n\nexport default api;\n","import React from \"react\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport Loader from \"react-loader-spinner\";\n\nconst Spinner = () => {\n  return (\n    <Loader\n      type=\"TailSpin\"\n      color=\"#00BFFF\"\n      height={80}\n      width={80}\n      timeout={3000}\n      style={{ textAlign: \"center\" }}\n    />\n  );\n};\n\nexport default Spinner;\n","import { useState, useEffect } from \"react\";\nimport { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport s from \"./Searchbar/Searchbar.module.css\";\nimport Searchbar from \"./Searchbar/Searchbar\";\nimport ImageGallery from \"./ImageGallery/ImageGallery\";\nimport Modal from \"./Modal/Modal\";\nimport Button from \"./Button/Button\";\nimport imageAPI from \"../services/image-api\";\nimport Spinner from \"./Spinner/Spinner\";\n\nfunction App() {\n  const [page, setPage] = useState(1);\n  const [data, setData] = useState([]);\n  const [query, setQuery] = useState(\"\");\n  // eslint-disable-next-line no-unused-vars\n  const [error, setError] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n  const [largeImg, setLargeImg] = useState(\"\");\n  const [status, setStatus] = useState(\"idle\");\n\n  useEffect(() => {\n    if (query === \"\") {\n      return;\n    }\n    setStatus(\"pending\");\n    imageAPI\n      .fetchImage(query, page)\n      .then(({ hits }) => {\n        setData([\n          ...data,\n          ...hits.map(({ id, webformatURL, largeImageURL }) => ({\n            id,\n            webformatURL,\n            largeImageURL,\n          })),\n        ]);\n      })\n      .catch((error) => setError(error))\n      .finally(() => setStatus(\"resolved\"));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [query, page]);\n\n  // window.scrollTo({\n  //   top: document.documentElement.scrollHeight,\n  //   behavior: \"smooth\",\n  // });\n\n  const handleSubmit = (query) => {\n    resetPage();\n    setQuery(query);\n  };\n\n  const resetPage = () => {\n    setPage(1);\n    setData([]);\n    setShowModal(false);\n    setStatus(\"idle\");\n  };\n\n  const handleLoadMore = () => {\n    setPage((page) => page + 1);\n  };\n\n  const handleLargeImage = (event) => {\n    setShowModal(true);\n    setLargeImg(event.currentTarget.alt);\n  };\n\n  const toggleModal = () => {\n    setShowModal(!showModal);\n  };\n\n  return (\n    <div className=\"App\">\n      <Searchbar onSubmit={handleSubmit} />\n\n      {status === \"idle\" && (\n        <h1 className={s.SearchbarTitle}>Введите запрос</h1>\n      )}\n\n      {data.length > 0 && (\n        <ImageGallery data={data} handleLargeImage={handleLargeImage} />\n      )}\n\n      {data.length >= 12 && status === \"resolved\" && (\n        <Button handleLoadMore={handleLoadMore} />\n      )}\n\n      {data.length === 0 && status === \"resolved\" && (\n        <h2 className={s.SearchbarTitle}>\n          По запросу \"{query}\" ничего не найдено\n        </h2>\n      )}\n\n      {showModal && <Modal largeImg={largeImg} onClose={toggleModal} />}\n\n      {status === \"pending\" && <Spinner />}\n\n      <ToastContainer autoClose={3000} />\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"modern-normalize/modern-normalize.css\";\nimport \"./index.css\";\nimport App from \"./components/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}